<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROMISE ALL</title>
</head>
<body>
    
        <table border="1" cellpadding="9" cellspacing="0">
        <tbody>
        <tr>

            <th>Attribute</th>
            <th>Value Product 1</th>
            <th>Value Product 2</th>
            <th>Value Product 3</th>
        </tr>
        
        <tr>
            <td>Id :</td>
            <td id="id1"></td>
            <td id="id2"></td>
            <td id="id3"></td>
        </tr>
        <tr>
            <td>Name :</td>
            <td id="nameproduk1"></td>
            <td id="nameproduk2"></td>
            <td id="nameproduk3"></td>
        </tr>
        <tr>
            <tr>
                <td>Price :</td>
                <td id="Price1"></td>
                <td id="Price2"></td>
                <td id="Price3"></td>
            </tr>
            </tbody>
        </table>
        
<script>

    function getProduct(product) {
        return new Promise(function (resolve, reject) {

            const ajax = new XMLHttpRequest();
            ajax.open("GET", `api/${product}.json`);
            ajax.onload = function () {
                if (ajax.status === 200) {
                    resolve(ajax.responseText);
                } else {
                    reject(`Error Get Product with response : ${ajax.status}`);
                }
            };
            ajax.send();

        });
    }
    const promise = Promise.all([
        getProduct("product1"),
        getProduct("product2"),
        getProduct("product3"),

    ]);
  
       promise.then(function (products) {
            console.info(products);
           // taruh sini code untuk menampilkan ke table
           //console.info(JSON.parse(prouct[0]));
           //console.info(JSON.parse(prouct[0]).name);
           const json1 = JSON.parse(product[0]);
           const json2 = JSON.parse(product[1]);
           const json3 = JSON.parse(product[2]);
           //document.getElementById("id1").textContent= JSON.parse(nameproduk1[0]).name;    
           
            document.getElementById("id1").textContent= JSON.parse(products[0]).id;    
            document.getElementById("nameproduk1").textContent= JSON.parse(products[0]).nameproduk;
            document.getElementById("price1").textContent= JSON.parse(products[0]).price;
         
            document.getElementById("id2").textContent= JSON.parse(products[0]).id;    
            document.getElementById("nameproduk2").textContent= JSON.parse(products[0]).nameproduk;
            document.getElementById("price2").textContent= JSON.parse(products[0]).price;

            document.getElementById("id3").textContent= JSON.parse(products[0]).id;    
            document.getElementById("nameproduk3").textContent= JSON.parse(products[0]).price; 
            document.getElementById("price3").textContent= JSON.parse(products[0]).price;
           })

        .catch(function (errors) {
            console.info(errors);
        })
  
</script>
</body>
</html>